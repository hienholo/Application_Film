{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Constants from \"expo-constants\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport Home from \"./../pages/Home\";\nimport Favorite from \"./../pages/Favorite\";\nimport Settings from \"./../pages/Settings\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport * as SQLite from \"expo-sqlite\";\nimport { ThemeContext } from \"../contexts/ThemeContext\";\nimport { IMLocalized } from \"../IMLocalized\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Tab = createBottomTabNavigator();\nvar db = SQLite.openDatabase(\"movie.db\");\n\nvar MainRoot = function (_Component) {\n  _inherits(MainRoot, _Component);\n\n  var _super = _createSuper(MainRoot);\n\n  function MainRoot(props) {\n    var _this;\n\n    _classCallCheck(this, MainRoot);\n\n    _this = _super.call(this, props);\n    props.navigation.addListener(\"beforeRemove\", function (e) {\n      e.preventDefault();\n      return;\n    });\n    _this.state = {\n      isLoading: true,\n      genres: []\n    };\n    db.transaction(function (tx) {\n      tx.executeSql(\"CREATE TABLE IF NOT EXISTS Favorites (id INTEGER PRIMARY KEY AUTOINCREMENT, movie_id INT, title TEXT, genres TEXT, overview TEXT, popularity TEXT, release_date TEXT, vote_average TEXT, vote_count TEXT, poster TEXT, backdrop TEXT);\");\n    });\n\n    _this.fetchData();\n\n    return _this;\n  }\n\n  _createClass(MainRoot, [{\n    key: \"fetchData\",\n    value: function fetchData() {\n      var _this2 = this;\n\n      return fetch(\"https://api.themoviedb.org/3/genre/movie/list?api_key=802b2c4b88ea1183e50e6b285a27696e\").then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        responseJson.genres.map(function (genre) {\n          var key = genre.name.toString().toLowerCase().replace(\" \", \"\");\n          genre.name = IMLocalized(key);\n        });\n\n        _this2.setState({\n          isLoading: false,\n          genres: responseJson.genres\n        });\n      }).catch(function (error) {\n        return console.error(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var HomeComponent = function HomeComponent(props) {\n        return _jsx(Home, _objectSpread(_objectSpread({}, props), {}, {\n          genres: _this3.state.genres\n        }));\n      };\n\n      if (this.state.isLoading) {\n        _jsx(SafeAreaView, {\n          style: {\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          children: _jsx(ActivityIndicator, {})\n        });\n      }\n\n      return _jsx(ThemeContext.Consumer, {\n        children: function children(context) {\n          var isDarkMode = context.isDarkMode,\n              light = context.light,\n              dark = context.dark;\n          return _jsxs(Tab.Navigator, {\n            tabBarOptions: {\n              activeTintColor: isDarkMode ? \"#FFF\" : \"#333\",\n              inactiveTintColor: \"#999\",\n              keyboardHidesTabBar: true,\n              labelStyle: {\n                fontFamily: \"poppins-r\"\n              },\n              style: {\n                backgroundColor: isDarkMode ? dark.bg : light.bg,\n                borderTopWidth: 0,\n                shadowColor: \"#000\",\n                shadowOffset: {\n                  width: 0,\n                  height: 4\n                },\n                shadowOpacity: 0.25,\n                shadowRadius: 8\n              }\n            },\n            initialRouteName: \"Home\",\n            children: [_jsx(Tab.Screen, {\n              options: {\n                tabBarLabel: IMLocalized(\"home\"),\n                tabBarIcon: function tabBarIcon(_ref) {\n                  var color = _ref.color,\n                      size = _ref.size;\n                  return _jsx(MaterialCommunityIcons, {\n                    name: \"home\",\n                    color: color,\n                    size: 22\n                  });\n                }\n              },\n              name: IMLocalized(\"home\"),\n              component: HomeComponent\n            }), _jsx(Tab.Screen, {\n              options: {\n                tabBarLabel: IMLocalized(\"favorites\"),\n                tabBarIcon: function tabBarIcon(_ref2) {\n                  var color = _ref2.color,\n                      size = _ref2.size;\n                  return _jsx(MaterialCommunityIcons, {\n                    name: \"heart\",\n                    color: color,\n                    size: 22\n                  });\n                }\n              },\n              name: IMLocalized(\"favorites\"),\n              component: Favorite\n            }), _jsx(Tab.Screen, {\n              options: {\n                tabBarLabel: IMLocalized(\"settings\"),\n                tabBarIcon: function tabBarIcon(_ref3) {\n                  var color = _ref3.color,\n                      size = _ref3.size;\n                  return _jsx(MaterialCommunityIcons, {\n                    name: \"cog\",\n                    color: color,\n                    size: 22\n                  });\n                }\n              },\n              name: IMLocalized(\"settings\"),\n              component: Settings\n            })]\n          });\n        }\n      });\n    }\n  }]);\n\n  return MainRoot;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: Constants.statusBarHeight\n  }\n});\nexport default MainRoot;","map":{"version":3,"sources":["D:/DOCUMENTS/moviereact-master/app/pages/MainRoot.js"],"names":["React","Component","Constants","createBottomTabNavigator","Home","Favorite","Settings","MaterialCommunityIcons","SQLite","ThemeContext","IMLocalized","Tab","db","openDatabase","MainRoot","props","navigation","addListener","e","preventDefault","state","isLoading","genres","transaction","tx","executeSql","fetchData","fetch","then","response","json","responseJson","map","genre","key","name","toString","toLowerCase","replace","setState","catch","error","console","HomeComponent","flex","justifyContent","alignItems","context","isDarkMode","light","dark","activeTintColor","inactiveTintColor","keyboardHidesTabBar","labelStyle","fontFamily","style","backgroundColor","bg","borderTopWidth","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","tabBarLabel","tabBarIcon","color","size","styles","StyleSheet","create","container","marginTop","statusBarHeight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  StyleSheet,\n  ActivityIndicator,\n  SafeAreaView,\n  Alert,\n} from \"react-native\";\nimport Constants from \"expo-constants\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport Home from \"./../pages/Home\";\nimport Favorite from \"./../pages/Favorite\";\nimport Settings from \"./../pages/Settings\";\nimport MaterialCommunityIcons from \"react-native-vector-icons/MaterialCommunityIcons\";\nimport * as SQLite from \"expo-sqlite\";\nimport { ThemeContext } from \"../contexts/ThemeContext\";\nimport { IMLocalized } from \"../IMLocalized\";\nconst Tab = createBottomTabNavigator();\nconst db = SQLite.openDatabase(\"movie.db\");\nclass MainRoot extends Component {\n  constructor(props) {\n    super(props);\n\n    //TODO: Disable go back [https://reactnavigation.org/docs/preventing-going-back/]\n    props.navigation.addListener(\"beforeRemove\", (e) => {\n      e.preventDefault();\n      return;\n    });\n\n    this.state = {\n      isLoading: true,\n      genres: [],\n    };\n\n    db.transaction((tx) => {\n      tx.executeSql(\n        \"CREATE TABLE IF NOT EXISTS Favorites (id INTEGER PRIMARY KEY AUTOINCREMENT, movie_id INT, title TEXT, genres TEXT, overview TEXT, popularity TEXT, release_date TEXT, vote_average TEXT, vote_count TEXT, poster TEXT, backdrop TEXT);\"\n      );\n    });\n\n    this.fetchData();\n  }\n\n  fetchData() {\n    return fetch(\n      \"https://api.themoviedb.org/3/genre/movie/list?api_key=802b2c4b88ea1183e50e6b285a27696e\"\n    )\n      .then((response) => response.json())\n      .then((responseJson) => {\n        //TODO: Localize for Genres\n        responseJson.genres.map((genre) => {\n          const key = genre.name.toString().toLowerCase().replace(\" \", \"\");\n          genre.name = IMLocalized(key);\n        });\n\n        this.setState({\n          isLoading: false,\n          genres: responseJson.genres,\n        });\n      })\n      .catch((error) => console.error(error));\n  }\n\n  render() {\n    const HomeComponent = (props) => (\n      <Home {...props} genres={this.state.genres} />\n    );\n    if (this.state.isLoading) {\n      <SafeAreaView\n        style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}\n      >\n        <ActivityIndicator />\n      </SafeAreaView>;\n    }\n    return (\n      <ThemeContext.Consumer>\n        {(context) => {\n          const { isDarkMode, light, dark } = context;\n          return (\n            <Tab.Navigator\n              tabBarOptions={{\n                activeTintColor: isDarkMode ? \"#FFF\" : \"#333\",\n                inactiveTintColor: \"#999\",\n                keyboardHidesTabBar: true,\n                labelStyle: { fontFamily: \"poppins-r\" },\n                style: {\n                  backgroundColor: isDarkMode ? dark.bg : light.bg,\n                  borderTopWidth: 0,\n                  shadowColor: \"#000\",\n                  shadowOffset: {\n                    width: 0,\n                    height: 4,\n                  },\n                  shadowOpacity: 0.25,\n                  shadowRadius: 8,\n                },\n              }}\n              initialRouteName=\"Home\"\n            >\n              <Tab.Screen\n                options={{\n                  tabBarLabel: IMLocalized(\"home\"),\n                  tabBarIcon: ({ color, size }) => (\n                    <MaterialCommunityIcons\n                      name=\"home\"\n                      color={color}\n                      size={22}\n                    />\n                  ),\n                }}\n                name={IMLocalized(\"home\")}\n                component={HomeComponent}\n              />\n              <Tab.Screen\n                options={{\n                  tabBarLabel: IMLocalized(\"favorites\"),\n                  tabBarIcon: ({ color, size }) => (\n                    <MaterialCommunityIcons\n                      name=\"heart\"\n                      color={color}\n                      size={22}\n                    />\n                  ),\n                }}\n                name={IMLocalized(\"favorites\")}\n                component={Favorite}\n              />\n              <Tab.Screen\n                options={{\n                  tabBarLabel: IMLocalized(\"settings\"),\n                  tabBarIcon: ({ color, size }) => (\n                    <MaterialCommunityIcons\n                      name=\"cog\"\n                      color={color}\n                      size={22}\n                    />\n                  ),\n                }}\n                name={IMLocalized(\"settings\")}\n                component={Settings}\n              />\n            </Tab.Navigator>\n          );\n        }}\n      </ThemeContext.Consumer>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    marginTop: Constants.statusBarHeight,\n  },\n});\n\nexport default MainRoot;\n"]},"metadata":{},"sourceType":"module"}